# Logs de Fluxo de Dados e Navegação
<img width="682" height="391" alt="image" src="https://github.com/user-attachments/assets/42eb4c96-2611-4a29-9c06-b093a3157f14" />

Mensagens de log ajudam a ter uma visão geral do que está acontecendo na rede. Pode-se usar os logs para diferentes propósitos. Por exemplo, usa-los para realizar troubleshoot na rede, determinar a carga nos dispositivos de rede, estabelecer baselines, monitorar uso de serviços, e dar suport à resposta a incidentes e à análise forense. 

Ele é importante para entender que logs são como quebra cabeças. Deve-se colocar muitas peças juntas para para ter um compreensão do que está acontecendo. Muitas vezes, é necessário revisar várias mensagens de log para determinar o elo exato de eventos e atividades que levaram a uma violação. Examinando um log isoladamente muitas vezes não ajuda a determinar o melhor caminho para configurar a rede para prevenir possíveis violações. Esse é o motivo da importância de ter um armazenamento de log centralizado.

# Regulações do Armazenamento de Logs

<img width="823" height="466" alt="image" src="https://github.com/user-attachments/assets/91cd6be1-e907-433b-9138-aec4dbbbcea3" />

As regulamentações exigem que as organizações registrem informações específicas, armazenam dados e os guardem no nível correto. É fundamental que seja entendida completamente a sua legislação que a organização deve cumprir, incluindo a jurisdição as quais ela pertence e se existem regulamentações específicas do setor que devem ser seguidas. Por exemplo, os setores financeiro e de saúde pode estar sujeitos a regulamentações adicionais, e certas informações privadas não podem ser registradas.

Você pode usar registros de atividades como prova em casos de atividades como prova em casos de atividades não autorizadas ou ilegais. Os dados utilizados como prova devem ser admissíveis em juízo, portanto, é fundamental que você seja capaz de compreender e analisar seus registros. 

Pode-se usar entradas de logs como evidências em casos de atividades ilegais ou não autorizadas. Os dados usados como evidência devem estar disponíveis em juízo, então é vital que sejamos capazes de entender e analizar logs. 

Estabelecendo política de segurança da organização pode ser difícil, particularmente se não existem políticas estabelecidas no local. Quando desenvolve-se políticas de segurança para a organizações, Fortinet recomenda consultar frameworks amplamente reconhecidos e padrões criados por organizações como a NIST e ISO.

# Analizando a Rede
<img width="853" height="488" alt="image" src="https://github.com/user-attachments/assets/0290e31d-127f-4d19-bd02-5b12b86e6c64" />

Para uma análise efetiva do tráfego da organização, é necessário um entendimento profundo da rede e ser capaz de identificar os seguintes:
* Infraestrutura crítica, como servidores e dispositivos de segurança. Esses dispositivos demandam o maior prioridade em qualquer análise.
* Tipos de tráfego esperado. Isso inclui cada protocolo que é permitido em cada dispositivo e ser capazz de identificar rapidamente um fluxo de tráfego anormal.
* Níveis de uso típicos picos. Estabelecendo linhas de base de rede para os níveis de tráfego em todos os horários ajudará você a reconhecer comportamentos inesperados, como um volume de tráfego acima do normal durante um determinado período.
* Fontes de picos de tráfego. Pode-se usar esses dados para criar uma reserva para janelas de manutenção previstas e backup de dados.

# Escopo do Registro de Logs

<img width="876" height="485" alt="image" src="https://github.com/user-attachments/assets/0c048b98-cf20-41ed-8be5-25ee8e6a4b7e" />

Dependendo do tamanho da sua organização, o tamanho dos dados de logs gerados podem ser muito pesados. Logs são geralmente gerados continuamente, e uma estação de trabalho pode gerar um grande volume de logs em um tempo curto. Como um analista, não é prático revisar todas as entradas e logs. Muitos logs são normais. Usando recursos para analisa-los não traz benefícios. 

Nem tudo em uma rede necessita ser registrado. Por exemplo, se o time de infraestrutura planeja conduzir testes em uma rede isolada, pode-se trabalhar com eles para disabilitar a rede de antemão. Dispositivos hospedados em uma rede restrita também não necessitam ser registrados.

Em cada análise, é importante priorizar fatores como tipos de tráfego, a origem do tráfego e destinos, e se existem eventos de segurança associados com esse tipo de tráfego. Além do mais, se o tráfego vem sendo enviado com frequência inesperada, seja maior ou menor do que esperado, uma investigação mais aprofundada se justifica. Saber quanto sua rede constuma gerar tráfego também pode ajudar a identificar comportamentos anômalos, como tráfego excessivo fora do horário comercial. 

# Fluxo de Trabalho de Arquivos de Log

<img width="867" height="477" alt="image" src="https://github.com/user-attachments/assets/435dba5b-187e-4b39-8001-f740dfa5a3a2" />

Quando dispositivos registrados enviam logs para o FortiAnalyzer, os logs seguem os seguintes fluxos de trabalho automático:
1. Logs recebidos são descompactados e salvos em um arquivo de log no disco do FortiAnalyzer. O arquivo de log tem a a extensão *.log*. Por exemplo, FortiAnalyze salva os logs do Fortigate com nomes de tlog.log e elog.log, para tráfego e logs de eventos.  



